{"version":3,"file":"BulletJs.min.js","sources":["../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../src/comps/helper.js","../src/comps/core.js"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","\n/**\n * 插入样式\n * @param {*} width \n */\nexport const initBulletAnimate = (width) => {\n\tlet style = document.createElement('style');\n\tconst animateClass = 'BULLET_ANIMATE';\n\tstyle.classList.add(animateClass);\n\n\tlet from = `from { visibility: visible; transform: translateX(${width}px); }`;\n\tlet to = `to { visibility: visible; transform: translateX(-100%); }`;\n\n\tconst animateString = `@keyframes RightToLeft { ${from} ${to} }`\n\n\tconst bulletContainer = `\n    .bullet-item-style {\n\t\tcursor: pointer;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tanimation-name: RightToLeft;\n\t\tanimation-timing-function: linear;\n\t\twill-change: transform;\n\t}\n\t`\n\tconst bulletTempContainer = `\n\t.bullet-temp-container {\n\t\tposition: absolute;\n\t\tright: 9999px;\n\t\tvisibility: hidden;\n\t}\n\t`\n\tstyle.innerHTML = animateString + bulletContainer + bulletTempContainer;\n\tdocument.head.appendChild(style);\n};\n\n\n/**\n * 获取弹幕item\n * @param {*} opts \n */\nexport const getContainer = opts => {\n\tconst { duration } = opts;\n\t// 创建单条弹幕的容器\n\tconst bulletContainer = document.createElement('div');\n\tbulletContainer.id = Math.random().toString(36).substring(2);\n\tbulletContainer.classList.add(\"bullet-item-style\")\n\tbulletContainer.style.animationDuration = duration;\n\n\treturn bulletContainer;\n};\n\n\n\n/**\n * 获取 [min, max] 的随机数\n * @param {*} min \n * @param {*} max \n */\nexport const getRandom = (min, max) => parseInt(Math.random() * (max - min + 1)) + min;\n\n\n/**\n * 事件委托\n * @param {*} target 绑定事件的元素\n * @param {*} className 需要执行绑定事件的元素的 class\n * @param {*} cb 执行的回调\n */\nexport function eventEntrust(target, event, className, cb) {\n\ttarget.addEventListener(event, e => {\n\t\tvar el = e.target\n\t\t//判断当前点击的元素是否为指定的classname，如果不是，执行以下的while循环\n\t\twhile (!el.className.includes(className)) {\n\t\t\t//如果点击的元素为target，直接跳出循环（代表未找到目标元素）\n\t\t\tif (el === target) {\n\t\t\t\tel = null\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t//否则，将当前元素父元素赋给el\n\t\t\t// console.log('whild循环中...')\n\t\t\tel = el.parentNode\n\t\t}\n\t\tif (el) {\n\t\t\t// console.log('找到目标元素')\n\t\t\tcb(el)\n\t\t} else {\n\t\t\t// console.log('你触发的不是目标元素')\n\t\t}\n\t})\n}\n","import { initBulletAnimate, getContainer, getRandom, eventEntrust } from './helper';\n\n// 基础配置\nconst defaultOptions = {\n\ttrackHeight: 50, // 跑道高度\n\tpauseOnHover: false,\n\tpauseOnClick: false,\n\tonStart: null,\n\tonEnd: null,\n\tduration: \"10s\",\n\tspeed: 100, // 100px/s \n};\n\n\nexport default class BulletJs {\n\ttarget = null;\n\ttempContanier = null; // 临时弹幕容器\n\tbulletInfo = {}; // 当前push的弹幕对象信息\n\n\tbullets = []; // 弹幕存储器 ==> 各跑道内所对应的弹幕\n\ttracks = []; // 轨道列表\n\tqueues = []; // 用户自己发送的的弹幕存储列表\n\ttargetW = 0; // 舞台宽度\n\tpauseArrs = []; // 暂停队列\n\tconstructor(ele, opts = {}) {\n\t\tthis.options = Object.assign(defaultOptions, opts);\n\t\tthis.ele = ele;\n\t\tthis.initScreen();\n\t\tthis.initOpt();\n\t\tthis.initTempContainer();\n\t\tthis._addExtraEvent();\n\t}\n\n\t// 设置弹幕目标\n\tinitScreen() {\n\t\tif (typeof this.ele === 'string') {\n\t\t\tthis.target = document.querySelector(this.ele);\n\t\t\tif (!this.target) throw new Error('The display target does not exist');\n\t\t} else if (this.ele instanceof HTMLElement) {\n\t\t\tthis.target = this.ele;\n\t\t} else {\n\t\t\tthrow new Error('The display target of the barrage must be set');\n\t\t}\n\t}\n\n\t// 初始化配置\n\tinitOpt() {\n\t\tconst { trackHeight } = this.options;\n\t\tthis.targetPos = this.target.getBoundingClientRect();\n\t\tconst trackNum = Math.floor(this.targetPos.height / trackHeight);\n\t\tthis.tracks = new Array(trackNum).fill('idle');\n\t\tthis.bullets = new Array(trackNum).fill([]);\n\t\tthis.targetW = this.targetPos.width;\n\n\t\t// 屏幕目标必须具备的CSS样式\n\t\tconst { position } = getComputedStyle(this.target);\n\t\tif (position === 'static') {\n\t\t\tthis.target.style.position = 'relative';\n\t\t\tthis.target.style.overflow = 'hidden';\n\t\t}\n\t\t// 插入css animation\n\t\tinitBulletAnimate(this.targetW);\n\t}\n\n\t// 初始化一个弹幕临时容器，为后期获取高度\n\tinitTempContainer() {\n\t\tthis.tempContanier = document.createElement('div');\n\t\tthis.tempContanier.classList.add('bullet-temp-container');\n\t\tdocument.body.appendChild(this.tempContanier);\n\t}\n\n\t// push 可针对具体一条弹幕设置特殊配置\n\tpush(item, opts = {}, isSelf=false) {\n\t\tconst options = Object.assign({}, this.options, opts);\n\n\t\tconst bulletContainer = getContainer({ ...options, currScreen: this });\n\n\t\tbulletContainer.innerHTML = item;\n\t\t// 为了获取当前弹幕的宽度，故必须要将其先插入到document中\n\t\tthis.tempContanier.appendChild(bulletContainer);\n\t\tthis.bulletInfo = {\n\t\t\twidth: bulletContainer.offsetWidth\n\t\t}\n\t\tlet duration = 0;\n\t\t// 假如传入速度参数\n\t\tif (options.speed) {\n\t\t\tduration = (this.targetW + this.bulletInfo.width) / options.speed;\n\t\t\t// 根据speed给弹幕对象设置 duration 属性\n\t\t\tbulletContainer.style.animationDuration = duration + 's';\n\t\t} else {\n\t\t\tduration = +options.duration.slice(0, -1);\n\t\t}\n\t\t// 将duration作为弹幕固有属性存储\n\t\tbulletContainer.dataset.duration = duration;\n\t\tthis.bulletInfo.duration = duration;\n\t\t// 删除临时存储弹幕容器里的弹幕\n\t\tbulletContainer.remove();\n\n\t\tconst canIndex = this._getTrackIndex();\n\n\t\tif (canIndex === -1) {\n\t\t\tif (isSelf) {\n\t\t\t\t// 没有多余轨道的情况，自己发的弹幕先保存起来\n\t\t\t\tthis.queues.push({ item, opts })\n\t\t\t}\n\t\t\t// console.log('没有多余轨道，直接丢弃弹幕')\n\t\t} else {\n\t\t\t// 塞入弹幕存储器\n\t\t\tif (this.bullets[canIndex].length) {\n\t\t\t\tthis.bullets[canIndex].push(bulletContainer)\n\t\t\t} else {\n\t\t\t\tthis.bullets[canIndex] = [bulletContainer]\n\t\t\t}\n\t\t\tthis._render(bulletContainer, canIndex);\n\t\t\tthis._addEvent(bulletContainer, canIndex, options);\n\t\t}\n\t\treturn bulletContainer.id;\n\t}\n\n\t// 获取空闲跑道\n\t_getTrackIndex() {\n\t\tlet readyIdxs = [];\n\t\tlet index = -1;\n\n\t\t// 优先去 idle 状态\n\t\tthis.tracks.forEach((v, idx) => v === 'idle' && readyIdxs.push(idx))\n\n\t\tif (readyIdxs.length) {\n\t\t\tconst random = getRandom(0, readyIdxs.length - 1)\n\t\t\tindex = readyIdxs[random];\n\t\t\tthis.tracks[index] = 'running'\n\t\t\treturn index;\n\t\t}\n\n\t\t// 没有轨道空闲，丛上到下巡检各轨道，选出可执行弹幕轨道\n\t\tfor (let i = 0; i < this.bullets.length; i++) {\n\t\t\tconst len = this.bullets[i].length;\n\t\t\tif (len) {\n\t\t\t\tconst item = this.bullets[i][len - 1];\n\t\t\t\tif (item && this._checkTrack(item)) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn index;\n\t}\n\n\t// 判断该条轨道是否可执行弹幕\n\t_checkTrack(item) {\n\t\t// 思路来源 https://www.zhihu.com/question/370464345\n\n\t\tconst itemPos = item.getBoundingClientRect();\n\n\t\t// 轨道中最后一个元素尚未完全进入展示区域，直接跳出\n\t\tif (itemPos.right > this.targetPos.right) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// 轨道中最后一个元素已完全进去展示区域\n\t\t\n\t\t// 速度相同，只要初始条件满足即可，不用去关系追及问题\n\t\tif (this.options.speed) {\n\t\t\tif (itemPos.right < this.targetPos.right) return true;\n\t\t} else {\n\t\t\t// 原弹幕速度\n\t\t\tconst v1 = (this.targetW + itemPos.width) / item.dataset.duration;\n\t\t\t/**\n\t\t\t * 新弹幕\n\t\t\t * s2：全程距离\n\t\t\t * t2：全程时间\n\t\t\t * v2：速度\n\t\t\t */\n\t\t\tconst s2 = this.targetW + this.bulletInfo.width;\n\t\t\tconst t2 = this.bulletInfo.duration;\n\t\t\tconst v2 = s2 / t2\n\n\t\t\tif (v2 <= v1) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\t// 小学时代的追及问题：t = s / v  比较时间：t1, t2\n\n\t\t\t\t// 原弹幕跑完剩余全程所需要的时间\n\t\t\t\tconst t1 = (itemPos.right - this.targetPos.left) / v1;\n\t\t\t\t// 新弹幕头部跑完全程所需要的时间\n\t\t\t\tconst t2 = this.targetW / v2;\n\t\t\t\t// console.log('前面的--->', t1, t2, '后面的时间', v1)\n\t\t\t\tif (t2 < t1) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t// 绑定事件\n\t_addEvent(bulletContainer, canIndex, options) {\n\t\tconst { onStart, onEnd } = options;\n\t\t// 监听弹幕开始的事件\n\t\tbulletContainer.addEventListener('animationstart', () => {\n\t\t\tif (onStart) onStart.call(window, bulletContainer.id, this);\n\t\t});\n\n\t\t// 监听弹幕完成的事件\n\t\tbulletContainer.addEventListener('animationend', () => {\n\t\t\tif (onEnd) onEnd.call(window, bulletContainer.id, this);\n\t\t\t// 从集合中剔除已经结束的动画\n\t\t\tthis.bullets[canIndex] = this.bullets[canIndex].filter(v => v.id !== bulletContainer.id)\n\n\t\t\tif (!this.bullets[canIndex].length) {\n\t\t\t\tthis.tracks[canIndex] = 'idle';\n\t\t\t}\n\t\t\tbulletContainer.remove();\n\t\t});\n\t}\n\n\t// 监听点击或hover事件做一些额外的处理\n\t_addExtraEvent() {\n\t\tif (this.options.pauseOnClick) {\n\t\t\teventEntrust(this.target, 'click', 'bullet-item-style', el => {\n\t\t\t\tconsole.log('el-click---->', el)\n\t\t\t\tlet currStatus = el.style.animationPlayState;\n\t\t\t\tif (currStatus == 'paused' && el.dataset.clicked) {\n\t\t\t\t\tel.dataset.clicked = '';\n\t\t\t\t\tthis._toggleAnimateStatus(el, 'running')\n\t\t\t\t} else {\n\t\t\t\t\tel.dataset.clicked = 'true';\n\t\t\t\t\tthis._toggleAnimateStatus(el, 'paused')\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tif (this.options.pauseOnHover) {\n\t\t\teventEntrust(this.target, 'mouseover', 'bullet-item-style', el => {\n\t\t\t\tthis._toggleAnimateStatus(el, 'paused')\n\t\t\t})\n\n\t\t\teventEntrust(this.target, 'mouseout', 'bullet-item-style', el => {\n\t\t\t\tthis._toggleAnimateStatus(el, 'running')\n\t\t\t})\n\t\t}\n\t}\n\n\t_render = (container, track) => {\n\t\t/**\n\t\t * container：弹幕容器\n\t\t * track：跑道索引\n\t\t */\n\t\tcontainer.dataset.track = track;\n\t\tcontainer.style.top = track * this.options.trackHeight + 'px';\n\t\tthis.target.appendChild(container);\n\n\t\t// 检测 queues\n\t\tif (this.queues.length) {\n\t\t\tconst obj = this.queues.shift();\n\t\t\t// 重试\n\t\t\tthis.push(obj.item, obj.opts, true);\n\t\t}\n\t};\n\n\t/**\n\t *\n\t * 额外操作 api ========================================================  \n\t * */\n\n\t//  获取弹幕列表\n\tgetBulletsList() {\n\t\treturn this.bullets.reduce((acc, cur) => [...cur, ...acc], []);\n\t}\n\t// 切换状态\n\t_toggleAnimateStatus = (el, status = 'paused') => {\n\t\tif (el) {\n\t\t\tif (status === \"running\") {\n\t\t\t\tel.style.animationPlayState = 'running';\n\t\t\t\tel.style.zIndex = 0;\n\t\t\t\tel.classList.remove('bullet-item-paused');\n\t\t\t} else {\n\t\t\t\tel.style.animationPlayState = 'paused';\n\t\t\t\tel.style.zIndex = 99999;\n\t\t\t\tel.classList.add('bullet-item-paused');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.pauseArrs.length && status == 'paused') return;\n\t\tthis.pauseArrs = this.getBulletsList()\n\t\tthis.pauseArrs.forEach(item => {\n\t\t\titem.style.animationPlayState = status;\n\t\t});\n\t\tthis.pauseArrs = []\n\t};\n\n\t// 暂停\n\tpause(el = null) {\n\t\tthis._toggleAnimateStatus(el, 'paused');\n\t}\n\t// 重新开始\n\tresume(el = null) {\n\n\t\tthis._toggleAnimateStatus(el, 'running');\n\t}\n}\n\n\n\n/**\n * IntersectionObserver 监测该条弹幕的运动情况，是否可腾出空间\n * \n * 由于此种方法兼容性略差，另外效果也不是很好，虽然性能还可以\n */\n\n// this.options.observeOpt = {\n// \troot: this.target,\n// \trootMargin: `0px ${this.options.gap} 0px 0px`,\n// \tthreshold: [1],\n// }\n// let observer = new IntersectionObserver(entries => {\n//   entries.forEach(entry => {\n//     const { intersectionRatio, target } = entry;\n//     let trackIdx = target.dataset.track;\n//     if (intersectionRatio >= 1) {\n//       // console.log('---->我执行了 ...', intersectionRatio)\n//       if (this.options.isCustomeQueue && this.queues.length) {\n//         this.checkQueue(trackIdx)\n//       } else {\n//         this.tracks[trackIdx] = 'feed';\n//       }\n//     }\n//   });\n// }, this.options.observeOpt);\n// observer.observe(container);\n"],"names":["initBulletAnimate","width","style","document","createElement","animateClass","classList","add","from","to","animateString","bulletContainer","bulletTempContainer","innerHTML","head","appendChild","getContainer","opts","duration","id","Math","random","toString","substring","animationDuration","getRandom","min","max","parseInt","eventEntrust","target","event","className","cb","addEventListener","e","el","includes","parentNode","defaultOptions","trackHeight","pauseOnHover","pauseOnClick","onStart","onEnd","speed","BulletJs","ele","container","track","dataset","top","options","queues","length","obj","shift","push","item","status","animationPlayState","zIndex","remove","pauseArrs","getBulletsList","forEach","Object","assign","initScreen","initOpt","initTempContainer","_addExtraEvent","querySelector","Error","HTMLElement","targetPos","getBoundingClientRect","trackNum","floor","height","tracks","Array","fill","bullets","targetW","getComputedStyle","position","overflow","tempContanier","body","isSelf","currScreen","bulletInfo","offsetWidth","slice","canIndex","_getTrackIndex","_render","_addEvent","readyIdxs","index","v","idx","i","len","_checkTrack","itemPos","right","v1","s2","t2","v2","t1","left","call","window","filter","console","log","currStatus","clicked","_toggleAnimateStatus","reduce","acc","cur"],"mappings":";;;;;;EAAA,SAAS,iBAAiB,CAAC,GAAG,EAAE,GAAG,EAAE;EACrC,EAAE,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC;AACxD;EACA,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;EACvD,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;EACrB,GAAG;AACH;EACA,EAAE,OAAO,IAAI,CAAC;EACd,CAAC;AACD;EACA,oBAAc,GAAG,iBAAiB;;ECRlC,SAAS,kBAAkB,CAAC,GAAG,EAAE;EACjC,EAAE,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,OAAO,gBAAgB,CAAC,GAAG,CAAC,CAAC;EACvD,CAAC;AACD;EACA,qBAAc,GAAG,kBAAkB;;ECNnC,SAAS,gBAAgB,CAAC,IAAI,EAAE;EAChC,EAAE,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;EAChG,CAAC;AACD;EACA,mBAAc,GAAG,gBAAgB;;ECFjC,SAAS,2BAA2B,CAAC,CAAC,EAAE,MAAM,EAAE;EAChD,EAAE,IAAI,CAAC,CAAC,EAAE,OAAO;EACjB,EAAE,IAAI,OAAO,CAAC,KAAK,QAAQ,EAAE,OAAO,gBAAgB,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;EAChE,EAAE,IAAI,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACzD,EAAE,IAAI,CAAC,KAAK,QAAQ,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC;EAC9D,EAAE,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;EACvD,EAAE,IAAI,CAAC,KAAK,WAAW,IAAI,0CAA0C,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,gBAAgB,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;EAClH,CAAC;AACD;EACA,8BAAc,GAAG,2BAA2B;;ECX5C,SAAS,kBAAkB,GAAG;EAC9B,EAAE,MAAM,IAAI,SAAS,CAAC,sIAAsI,CAAC,CAAC;EAC9J,CAAC;AACD;EACA,qBAAc,GAAG,kBAAkB;;ECInC,SAAS,kBAAkB,CAAC,GAAG,EAAE;EACjC,EAAE,OAAO,iBAAiB,CAAC,GAAG,CAAC,IAAI,eAAe,CAAC,GAAG,CAAC,IAAI,0BAA0B,CAAC,GAAG,CAAC,IAAI,iBAAiB,EAAE,CAAC;EAClH,CAAC;AACD;EACA,qBAAc,GAAG,kBAAkB;;ECZnC,SAAS,eAAe,CAAC,QAAQ,EAAE,WAAW,EAAE;EAChD,EAAE,IAAI,EAAE,QAAQ,YAAY,WAAW,CAAC,EAAE;EAC1C,IAAI,MAAM,IAAI,SAAS,CAAC,mCAAmC,CAAC,CAAC;EAC7D,GAAG;EACH,CAAC;AACD;EACA,kBAAc,GAAG,eAAe;;ECNhC,SAAS,iBAAiB,CAAC,MAAM,EAAE,KAAK,EAAE;EAC1C,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EACzC,IAAI,IAAI,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;EAC9B,IAAI,UAAU,CAAC,UAAU,GAAG,UAAU,CAAC,UAAU,IAAI,KAAK,CAAC;EAC3D,IAAI,UAAU,CAAC,YAAY,GAAG,IAAI,CAAC;EACnC,IAAI,IAAI,OAAO,IAAI,UAAU,EAAE,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;EAC1D,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,UAAU,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;EAC9D,GAAG;EACH,CAAC;AACD;EACA,SAAS,YAAY,CAAC,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE;EAC5D,EAAE,IAAI,UAAU,EAAE,iBAAiB,CAAC,WAAW,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;EACvE,EAAE,IAAI,WAAW,EAAE,iBAAiB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;EAC/D,EAAE,OAAO,WAAW,CAAC;EACrB,CAAC;AACD;EACA,eAAc,GAAG,YAAY;;EChB7B,SAAS,eAAe,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE;EAC1C,EAAE,IAAI,GAAG,IAAI,GAAG,EAAE;EAClB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE;EACpC,MAAM,KAAK,EAAE,KAAK;EAClB,MAAM,UAAU,EAAE,IAAI;EACtB,MAAM,YAAY,EAAE,IAAI;EACxB,MAAM,QAAQ,EAAE,IAAI;EACpB,KAAK,CAAC,CAAC;EACP,GAAG,MAAM;EACT,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;EACrB,GAAG;AACH;EACA,EAAE,OAAO,GAAG,CAAC;EACb,CAAC;AACD;EACA,kBAAc,GAAG,eAAe;;ECdhC;;;;EAIO,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD,EAAW;EAC3C,MAAIC,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ;EACA,MAAMC,YAAY,GAAG,gBAArB;EACAH,EAAAA,KAAK,CAACI,SAAN,CAAgBC,GAAhB,CAAoBF,YAApB;EAEA,MAAIG,IAAI,+DAAwDP,KAAxD,WAAR;EACA,MAAIQ,EAAE,8DAAN;EAEA,MAAMC,aAAa,sCAA+BF,IAA/B,cAAuCC,EAAvC,OAAnB;EAEA,MAAME,eAAe,4MAArB;EAUA,MAAMC,mBAAmB,gHAAzB;EAOAV,EAAAA,KAAK,CAACW,SAAN,GAAkBH,aAAa,GAAGC,eAAhB,GAAkCC,mBAApD;EACAT,EAAAA,QAAQ,CAACW,IAAT,CAAcC,WAAd,CAA0Bb,KAA1B;EACA,CA7BM;EAgCP;;;;;EAIO,IAAMc,YAAY,GAAG,SAAfA,YAAe,CAAAC,IAAI,EAAI;EAAA,MAC3BC,QAD2B,GACdD,IADc,CAC3BC,QAD2B;;EAGnC,MAAMP,eAAe,GAAGR,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAxB;EACAO,EAAAA,eAAe,CAACQ,EAAhB,GAAqBC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,SAA3B,CAAqC,CAArC,CAArB;EACAZ,EAAAA,eAAe,CAACL,SAAhB,CAA0BC,GAA1B,CAA8B,mBAA9B;EACAI,EAAAA,eAAe,CAACT,KAAhB,CAAsBsB,iBAAtB,GAA0CN,QAA1C;EAEA,SAAOP,eAAP;EACA,CATM;EAaP;;;;;;EAKO,IAAMc,SAAS,GAAG,SAAZA,SAAY,CAACC,GAAD,EAAMC,GAAN;EAAA,SAAcC,QAAQ,CAACR,IAAI,CAACC,MAAL,MAAiBM,GAAG,GAAGD,GAAN,GAAY,CAA7B,CAAD,CAAR,GAA4CA,GAA1D;EAAA,CAAlB;EAGP;;;;;;;EAMO,SAASG,YAAT,CAAsBC,MAAtB,EAA8BC,KAA9B,EAAqCC,SAArC,EAAgDC,EAAhD,EAAoD;EAC1DH,EAAAA,MAAM,CAACI,gBAAP,CAAwBH,KAAxB,EAA+B,UAAAI,CAAC,EAAI;EACnC,QAAIC,EAAE,GAAGD,CAAC,CAACL,MAAX,CADmC;;EAGnC,WAAO,CAACM,EAAE,CAACJ,SAAH,CAAaK,QAAb,CAAsBL,SAAtB,CAAR,EAA0C;EACzC;EACA,UAAII,EAAE,KAAKN,MAAX,EAAmB;EAClBM,QAAAA,EAAE,GAAG,IAAL;EACA;EACA,OALwC;EAOzC;;;EACAA,MAAAA,EAAE,GAAGA,EAAE,CAACE,UAAR;EACA;;EACD,QAAIF,EAAJ,EAAQ;EACP;EACAH,MAAAA,EAAE,CAACG,EAAD,CAAF;EACA;EAGD,GAnBD;EAoBA;;;;;;ECtFD,IAAMG,cAAc,GAAG;EACtBC,EAAAA,WAAW,EAAE,EADS;EACL;EACjBC,EAAAA,YAAY,EAAE,KAFQ;EAGtBC,EAAAA,YAAY,EAAE,KAHQ;EAItBC,EAAAA,OAAO,EAAE,IAJa;EAKtBC,EAAAA,KAAK,EAAE,IALe;EAMtB1B,EAAAA,QAAQ,EAAE,KANY;EAOtB2B,EAAAA,KAAK,EAAE,GAPe;;EAAA,CAAvB;;MAWqBC;EAEE;EACL;EAEH;EACD;EACA;EACA;EACG;EAChB,oBAAYC,GAAZ,EAA4B;EAAA;;EAAA,QAAX9B,IAAW,uEAAJ,EAAI;;EAAA;;EAAA,mCATnB,IASmB;;EAAA,0CARZ,IAQY;;EAAA,uCAPf,EAOe;;EAAA,oCALlB,EAKkB;;EAAA,mCAJnB,EAImB;;EAAA,mCAHnB,EAGmB;;EAAA,oCAFlB,CAEkB;;EAAA,sCADhB,EACgB;;EAAA,oCA0NlB,UAAC+B,SAAD,EAAYC,KAAZ,EAAsB;EAC/B;;;;EAIAD,MAAAA,SAAS,CAACE,OAAV,CAAkBD,KAAlB,GAA0BA,KAA1B;EACAD,MAAAA,SAAS,CAAC9C,KAAV,CAAgBiD,GAAhB,GAAsBF,KAAK,GAAG,KAAI,CAACG,OAAL,CAAaZ,WAArB,GAAmC,IAAzD;;EACA,MAAA,KAAI,CAACV,MAAL,CAAYf,WAAZ,CAAwBiC,SAAxB,EAP+B;;;EAU/B,UAAI,KAAI,CAACK,MAAL,CAAYC,MAAhB,EAAwB;EACvB,YAAMC,GAAG,GAAG,KAAI,CAACF,MAAL,CAAYG,KAAZ,EAAZ,CADuB;;;EAGvB,QAAA,KAAI,CAACC,IAAL,CAAUF,GAAG,CAACG,IAAd,EAAoBH,GAAG,CAACtC,IAAxB,EAA8B,IAA9B;EACA;EACD,KAzO2B;;EAAA,iDAqPL,UAACmB,EAAD,EAA2B;EAAA,UAAtBuB,MAAsB,uEAAb,QAAa;;EACjD,UAAIvB,EAAJ,EAAQ;EACP,YAAIuB,MAAM,KAAK,SAAf,EAA0B;EACzBvB,UAAAA,EAAE,CAAClC,KAAH,CAAS0D,kBAAT,GAA8B,SAA9B;EACAxB,UAAAA,EAAE,CAAClC,KAAH,CAAS2D,MAAT,GAAkB,CAAlB;EACAzB,UAAAA,EAAE,CAAC9B,SAAH,CAAawD,MAAb,CAAoB,oBAApB;EACA,SAJD,MAIO;EACN1B,UAAAA,EAAE,CAAClC,KAAH,CAAS0D,kBAAT,GAA8B,QAA9B;EACAxB,UAAAA,EAAE,CAAClC,KAAH,CAAS2D,MAAT,GAAkB,KAAlB;EACAzB,UAAAA,EAAE,CAAC9B,SAAH,CAAaC,GAAb,CAAiB,oBAAjB;EACA;;EACD;EACA;;EAED,UAAI,KAAI,CAACwD,SAAL,CAAeT,MAAf,IAAyBK,MAAM,IAAI,QAAvC,EAAiD;EACjD,MAAA,KAAI,CAACI,SAAL,GAAiB,KAAI,CAACC,cAAL,EAAjB;;EACA,MAAA,KAAI,CAACD,SAAL,CAAeE,OAAf,CAAuB,UAAAP,IAAI,EAAI;EAC9BA,QAAAA,IAAI,CAACxD,KAAL,CAAW0D,kBAAX,GAAgCD,MAAhC;EACA,OAFD;;EAGA,MAAA,KAAI,CAACI,SAAL,GAAiB,EAAjB;EACA,KAzQ2B;;EAC3B,SAAKX,OAAL,GAAec,MAAM,CAACC,MAAP,CAAc5B,cAAd,EAA8BtB,IAA9B,CAAf;EACA,SAAK8B,GAAL,GAAWA,GAAX;EACA,SAAKqB,UAAL;EACA,SAAKC,OAAL;EACA,SAAKC,iBAAL;;EACA,SAAKC,cAAL;EACA;;;;;mCAGY;EACZ,UAAI,OAAO,KAAKxB,GAAZ,KAAoB,QAAxB,EAAkC;EACjC,aAAKjB,MAAL,GAAc3B,QAAQ,CAACqE,aAAT,CAAuB,KAAKzB,GAA5B,CAAd;EACA,YAAI,CAAC,KAAKjB,MAAV,EAAkB,MAAM,IAAI2C,KAAJ,CAAU,mCAAV,CAAN;EAClB,OAHD,MAGO,IAAI,KAAK1B,GAAL,YAAoB2B,WAAxB,EAAqC;EAC3C,aAAK5C,MAAL,GAAc,KAAKiB,GAAnB;EACA,OAFM,MAEA;EACN,cAAM,IAAI0B,KAAJ,CAAU,+CAAV,CAAN;EACA;EACD;;;;gCAGS;EAAA,UACDjC,WADC,GACe,KAAKY,OADpB,CACDZ,WADC;EAET,WAAKmC,SAAL,GAAiB,KAAK7C,MAAL,CAAY8C,qBAAZ,EAAjB;EACA,UAAMC,QAAQ,GAAGzD,IAAI,CAAC0D,KAAL,CAAW,KAAKH,SAAL,CAAeI,MAAf,GAAwBvC,WAAnC,CAAjB;EACA,WAAKwC,MAAL,GAAc,IAAIC,KAAJ,CAAUJ,QAAV,EAAoBK,IAApB,CAAyB,MAAzB,CAAd;EACA,WAAKC,OAAL,GAAe,IAAIF,KAAJ,CAAUJ,QAAV,EAAoBK,IAApB,CAAyB,EAAzB,CAAf;EACA,WAAKE,OAAL,GAAe,KAAKT,SAAL,CAAe1E,KAA9B,CANS;;EAAA,8BASYoF,gBAAgB,CAAC,KAAKvD,MAAN,CAT5B;EAAA,UASDwD,QATC,qBASDA,QATC;;EAUT,UAAIA,QAAQ,KAAK,QAAjB,EAA2B;EAC1B,aAAKxD,MAAL,CAAY5B,KAAZ,CAAkBoF,QAAlB,GAA6B,UAA7B;EACA,aAAKxD,MAAL,CAAY5B,KAAZ,CAAkBqF,QAAlB,GAA6B,QAA7B;EACA,OAbQ;;;EAeTvF,MAAAA,iBAAiB,CAAC,KAAKoF,OAAN,CAAjB;EACA;;;;0CAGmB;EACnB,WAAKI,aAAL,GAAqBrF,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArB;EACA,WAAKoF,aAAL,CAAmBlF,SAAnB,CAA6BC,GAA7B,CAAiC,uBAAjC;EACAJ,MAAAA,QAAQ,CAACsF,IAAT,CAAc1E,WAAd,CAA0B,KAAKyE,aAA/B;EACA;;;;2BAGI9B,MAA+B;EAAA,UAAzBzC,IAAyB,uEAAlB,EAAkB;EAAA,UAAdyE,MAAc,uEAAP,KAAO;EACnC,UAAMtC,OAAO,GAAGc,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKf,OAAvB,EAAgCnC,IAAhC,CAAhB;EAEA,UAAMN,eAAe,GAAGK,YAAY,iCAAMoC,OAAN;EAAeuC,QAAAA,UAAU,EAAE;EAA3B,SAApC;EAEAhF,MAAAA,eAAe,CAACE,SAAhB,GAA4B6C,IAA5B,CALmC;;EAOnC,WAAK8B,aAAL,CAAmBzE,WAAnB,CAA+BJ,eAA/B;EACA,WAAKiF,UAAL,GAAkB;EACjB3F,QAAAA,KAAK,EAAEU,eAAe,CAACkF;EADN,OAAlB;EAGA,UAAI3E,QAAQ,GAAG,CAAf,CAXmC;;EAanC,UAAIkC,OAAO,CAACP,KAAZ,EAAmB;EAClB3B,QAAAA,QAAQ,GAAG,CAAC,KAAKkE,OAAL,GAAe,KAAKQ,UAAL,CAAgB3F,KAAhC,IAAyCmD,OAAO,CAACP,KAA5D,CADkB;;EAGlBlC,QAAAA,eAAe,CAACT,KAAhB,CAAsBsB,iBAAtB,GAA0CN,QAAQ,GAAG,GAArD;EACA,OAJD,MAIO;EACNA,QAAAA,QAAQ,GAAG,CAACkC,OAAO,CAAClC,QAAR,CAAiB4E,KAAjB,CAAuB,CAAvB,EAA0B,CAAC,CAA3B,CAAZ;EACA,OAnBkC;;;EAqBnCnF,MAAAA,eAAe,CAACuC,OAAhB,CAAwBhC,QAAxB,GAAmCA,QAAnC;EACA,WAAK0E,UAAL,CAAgB1E,QAAhB,GAA2BA,QAA3B,CAtBmC;;EAwBnCP,MAAAA,eAAe,CAACmD,MAAhB;;EAEA,UAAMiC,QAAQ,GAAG,KAAKC,cAAL,EAAjB;;EAEA,UAAID,QAAQ,KAAK,CAAC,CAAlB,EAAqB;EACpB,YAAIL,MAAJ,EAAY;EACX;EACA,eAAKrC,MAAL,CAAYI,IAAZ,CAAiB;EAAEC,YAAAA,IAAI,EAAJA,IAAF;EAAQzC,YAAAA,IAAI,EAAJA;EAAR,WAAjB;EACA,SAJmB;;EAMpB,OAND,MAMO;EACN;EACA,YAAI,KAAKkE,OAAL,CAAaY,QAAb,EAAuBzC,MAA3B,EAAmC;EAClC,eAAK6B,OAAL,CAAaY,QAAb,EAAuBtC,IAAvB,CAA4B9C,eAA5B;EACA,SAFD,MAEO;EACN,eAAKwE,OAAL,CAAaY,QAAb,IAAyB,CAACpF,eAAD,CAAzB;EACA;;EACD,aAAKsF,OAAL,CAAatF,eAAb,EAA8BoF,QAA9B;;EACA,aAAKG,SAAL,CAAevF,eAAf,EAAgCoF,QAAhC,EAA0C3C,OAA1C;EACA;;EACD,aAAOzC,eAAe,CAACQ,EAAvB;EACA;;;;uCAGgB;EAChB,UAAIgF,SAAS,GAAG,EAAhB;EACA,UAAIC,KAAK,GAAG,CAAC,CAAb,CAFgB;;EAKhB,WAAKpB,MAAL,CAAYf,OAAZ,CAAoB,UAACoC,CAAD,EAAIC,GAAJ;EAAA,eAAYD,CAAC,KAAK,MAAN,IAAgBF,SAAS,CAAC1C,IAAV,CAAe6C,GAAf,CAA5B;EAAA,OAApB;;EAEA,UAAIH,SAAS,CAAC7C,MAAd,EAAsB;EACrB,YAAMjC,MAAM,GAAGI,SAAS,CAAC,CAAD,EAAI0E,SAAS,CAAC7C,MAAV,GAAmB,CAAvB,CAAxB;EACA8C,QAAAA,KAAK,GAAGD,SAAS,CAAC9E,MAAD,CAAjB;EACA,aAAK2D,MAAL,CAAYoB,KAAZ,IAAqB,SAArB;EACA,eAAOA,KAAP;EACA,OAZe;;;EAehB,WAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpB,OAAL,CAAa7B,MAAjC,EAAyCiD,CAAC,EAA1C,EAA8C;EAC7C,YAAMC,GAAG,GAAG,KAAKrB,OAAL,CAAaoB,CAAb,EAAgBjD,MAA5B;;EACA,YAAIkD,GAAJ,EAAS;EACR,cAAM9C,IAAI,GAAG,KAAKyB,OAAL,CAAaoB,CAAb,EAAgBC,GAAG,GAAG,CAAtB,CAAb;;EACA,cAAI9C,IAAI,IAAI,KAAK+C,WAAL,CAAiB/C,IAAjB,CAAZ,EAAoC;EACnC,mBAAO6C,CAAP;EACA;EACD;EACD;;EACD,aAAOH,KAAP;EACA;;;;kCAGW1C,MAAM;EACjB;EAEA,UAAMgD,OAAO,GAAGhD,IAAI,CAACkB,qBAAL,EAAhB,CAHiB;;EAMjB,UAAI8B,OAAO,CAACC,KAAR,GAAgB,KAAKhC,SAAL,CAAegC,KAAnC,EAA0C;EACzC,eAAO,KAAP;EACA,OARgB;EAYjB;;;EACA,UAAI,KAAKvD,OAAL,CAAaP,KAAjB,EAAwB;EACvB,YAAI6D,OAAO,CAACC,KAAR,GAAgB,KAAKhC,SAAL,CAAegC,KAAnC,EAA0C,OAAO,IAAP;EAC1C,OAFD,MAEO;EACN;EACA,YAAMC,EAAE,GAAG,CAAC,KAAKxB,OAAL,GAAesB,OAAO,CAACzG,KAAxB,IAAiCyD,IAAI,CAACR,OAAL,CAAahC,QAAzD;EACA;;;;;;;EAMA,YAAM2F,EAAE,GAAG,KAAKzB,OAAL,GAAe,KAAKQ,UAAL,CAAgB3F,KAA1C;EACA,YAAM6G,EAAE,GAAG,KAAKlB,UAAL,CAAgB1E,QAA3B;EACA,YAAM6F,EAAE,GAAGF,EAAE,GAAGC,EAAhB;;EAEA,YAAIC,EAAE,IAAIH,EAAV,EAAc;EACb,iBAAO,IAAP;EACA,SAFD,MAEO;EACN;EAEA;EACA,cAAMI,EAAE,GAAG,CAACN,OAAO,CAACC,KAAR,GAAgB,KAAKhC,SAAL,CAAesC,IAAhC,IAAwCL,EAAnD,CAJM;;EAMN,cAAME,EAAE,GAAG,KAAK1B,OAAL,GAAe2B,EAA1B,CANM;;;EAQN,cAAID,EAAE,GAAGE,EAAT,EAAa;EACZ,mBAAO,KAAP;EACA;EACD;EACD;;EACD,aAAO,IAAP;EACA;;;;gCAGSrG,iBAAiBoF,UAAU3C,SAAS;EAAA;;EAAA,UACrCT,OADqC,GAClBS,OADkB,CACrCT,OADqC;EAAA,UAC5BC,KAD4B,GAClBQ,OADkB,CAC5BR,KAD4B;;EAG7CjC,MAAAA,eAAe,CAACuB,gBAAhB,CAAiC,gBAAjC,EAAmD,YAAM;EACxD,YAAIS,OAAJ,EAAaA,OAAO,CAACuE,IAAR,CAAaC,MAAb,EAAqBxG,eAAe,CAACQ,EAArC,EAAyC,MAAzC;EACb,OAFD,EAH6C;;EAQ7CR,MAAAA,eAAe,CAACuB,gBAAhB,CAAiC,cAAjC,EAAiD,YAAM;EACtD,YAAIU,KAAJ,EAAWA,KAAK,CAACsE,IAAN,CAAWC,MAAX,EAAmBxG,eAAe,CAACQ,EAAnC,EAAuC,MAAvC,EAD2C;;EAGtD,QAAA,MAAI,CAACgE,OAAL,CAAaY,QAAb,IAAyB,MAAI,CAACZ,OAAL,CAAaY,QAAb,EAAuBqB,MAAvB,CAA8B,UAAAf,CAAC;EAAA,iBAAIA,CAAC,CAAClF,EAAF,KAASR,eAAe,CAACQ,EAA7B;EAAA,SAA/B,CAAzB;;EAEA,YAAI,CAAC,MAAI,CAACgE,OAAL,CAAaY,QAAb,EAAuBzC,MAA5B,EAAoC;EACnC,UAAA,MAAI,CAAC0B,MAAL,CAAYe,QAAZ,IAAwB,MAAxB;EACA;;EACDpF,QAAAA,eAAe,CAACmD,MAAhB;EACA,OATD;EAUA;;;;uCAGgB;EAAA;;EAChB,UAAI,KAAKV,OAAL,CAAaV,YAAjB,EAA+B;EAC9Bb,QAAAA,YAAY,CAAC,KAAKC,MAAN,EAAc,OAAd,EAAuB,mBAAvB,EAA4C,UAAAM,EAAE,EAAI;EAC7DiF,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BlF,EAA7B;EACA,cAAImF,UAAU,GAAGnF,EAAE,CAAClC,KAAH,CAAS0D,kBAA1B;;EACA,cAAI2D,UAAU,IAAI,QAAd,IAA0BnF,EAAE,CAACc,OAAH,CAAWsE,OAAzC,EAAkD;EACjDpF,YAAAA,EAAE,CAACc,OAAH,CAAWsE,OAAX,GAAqB,EAArB;;EACA,YAAA,MAAI,CAACC,oBAAL,CAA0BrF,EAA1B,EAA8B,SAA9B;EACA,WAHD,MAGO;EACNA,YAAAA,EAAE,CAACc,OAAH,CAAWsE,OAAX,GAAqB,MAArB;;EACA,YAAA,MAAI,CAACC,oBAAL,CAA0BrF,EAA1B,EAA8B,QAA9B;EACA;EACD,SAVW,CAAZ;EAWA;;EAED,UAAI,KAAKgB,OAAL,CAAaX,YAAjB,EAA+B;EAC9BZ,QAAAA,YAAY,CAAC,KAAKC,MAAN,EAAc,WAAd,EAA2B,mBAA3B,EAAgD,UAAAM,EAAE,EAAI;EACjE,UAAA,MAAI,CAACqF,oBAAL,CAA0BrF,EAA1B,EAA8B,QAA9B;EACA,SAFW,CAAZ;EAIAP,QAAAA,YAAY,CAAC,KAAKC,MAAN,EAAc,UAAd,EAA0B,mBAA1B,EAA+C,UAAAM,EAAE,EAAI;EAChE,UAAA,MAAI,CAACqF,oBAAL,CAA0BrF,EAA1B,EAA8B,SAA9B;EACA,SAFW,CAAZ;EAGA;EACD;;;;EAmBD;;;;EAKA;uCACiB;EAChB,aAAO,KAAK+C,OAAL,CAAauC,MAAb,CAAoB,UAACC,GAAD,EAAMC,GAAN;EAAA,2CAAkBA,GAAlB,qBAA0BD,GAA1B;EAAA,OAApB,EAAoD,EAApD,CAAP;EACA;;;;EAwBD;8BACiB;EAAA,UAAXvF,EAAW,uEAAN,IAAM;;EAChB,WAAKqF,oBAAL,CAA0BrF,EAA1B,EAA8B,QAA9B;EACA;;;;+BAEiB;EAAA,UAAXA,EAAW,uEAAN,IAAM;;EAEjB,WAAKqF,oBAAL,CAA0BrF,EAA1B,EAA8B,SAA9B;EACA;;;;;;;;;;;;"}